Q: 这个「打车快应用」的登录主要是在哪些场景触发的？
是强制登录还是按需登录？
A: 打车快应用本身是嵌在百度地图里的轻量应用，
登录并不是一进来就强制的，而是按业务场景触发的。

下单、查看历史订单、支付 → 必须登录
所以前端这边做了一个统一的登录拦截层，
在需要登录的操作点进行校验和拉起登录流程。


Q: 那前端这边登录是怎么实现的？
是自己做的账号体系，还是复用百度账号？流程能详细说一下吗？
A: 登录是复用百度账号体系的，不是我们自己维护用户系统。
前端检测登录态（cookie / token）
未登录时，通过快应用提供的 API 拉起百度统一登录
登录成功后，拿到 bduss / token
前端将登录态同步到业务层，用于后续接口鉴权

我们在前端封装了一层 auth 模块，
统一处理登录态判断、登录跳转和回跳逻辑，
避免各个业务点重复实现。

Q: 登录态在前端是怎么存的？
刷新页面或者切换页面会不会丢？
A: 登录态主要是由百度账号体系维护，
底层是 cookie + 平台能力，前端不会明文存敏感信息。
我们在前端会维护一个轻量的登录状态缓存，
比如：
页面初始化时通过接口校验是否登录
同时缓存一份状态，减少重复校验
页面刷新不会丢，因为最终的登录态是平台级的

Q: 登录过程中遇到过哪些问题？
比如登录失败、token 失效，你们是怎么处理的？
A: 比较常见的是：
登录态过期但前端还认为是已登录
用户中途取消登录
对于 token 失效的情况：
接口返回 401 时统一拦截
自动清理本地登录状态
引导用户重新登录
同时也做了埋点，统计登录失败率和取消率，
方便后续优化流程。

Q: 维护做了什么（别被问住）
A: 跟随百度账号体系升级，适配新接口
修复登录态异常、兼容老版本快应用
优化登录流程体验，比如减少重复拉起登录
处理业务方接入登录能力的问题